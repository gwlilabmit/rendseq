name: "Commit documentation changes"
on: 
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  docs:
    runs-on: ubuntu-latest
    steps:
      - run: |
              git clone https://github.com/julianstanley/rendseq.git --branch gh-pages --single-branch gh-pages
              cp -r docs/_build/html/* gh-pages/
              cd gh-pages
              git config --local user.email "action@github.com"
              git config --local user.name "GitHub Action"
              git add .
              git commit -m "Update documentation" -a || true
              # The above command will fail if no changes were present, so we ignore
              # the return code.
